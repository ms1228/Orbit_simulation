<!DOCTYPE html>
<html>

<!-- This is an html comment. -->
<!-- Developed by Manisha and Paul, started March, 2017, at the University
of Denver

This version has html input for major and minor axis, and to chose the planet, and yes no button for showing the orbit or not, added by Manisha. -->
    <head>
        <meta charset="utf-8">
	<title> Simulation of orbit of planets around the sun </title>
    </head>
    <body>
    <body style="font-family:sans-serif;font-size:15px;width:600px;margin-left:auto;margin-right:auto;background-color:#c0c0c0;">
         <h1 style="font-size:24px;text-aligh:center;color:#800000;">Orbits</h1>
	 <div style="width:500px; margin-left:auto; margin-right:auto; position:relative;">

	  <canvas id="theCanvas" width="500" height="500" style="position:relative;">
              Canvas not supported; please update your browser.
          </canvas>
	 </div>

         <p>


<! -- Adding a checkbox for planets to allow user to chose the orbit of the planet: -->
           <form> Chose the planet whose orbit you want simulate:<br>
		 <input  type="checkbox" name="Mercury" value=0 id="mercury" onclick="merFunction()"> Mercury<br>
		 <input  type="checkbox" name="Venus" value=0 id="venus" onclick="venFunction()"> Venus <br> 
		 <input  type="checkbox" name="Earth" value=0 id="earth" onclick="earFunction()"> Earth<br>
		 <input  type="checkbox" name="Mars" value=0 id="mars" onclick="marFunction()"> Mars <br>   
	    </form>
	    <! -- Adding a checkbox for users to chose the orbit of the planet to be shown with its path or not: -->
           <form> Do you want the path to be shown?:<br>
		  <input  type="radio" name = "radio" value="1" id="yes" onclick="drawProjectileYes()" > Yes<br>
		  <input  type="radio" name ="radio" value="0" id="no"onclick="drawProjectileNo()" > No <br>
           </form>


 <script>
//        var speedReadout = document.getElementById("speedReadout");
        var theCanvas = document.getElementById("theCanvas");
	var theContext = theCanvas.getContext("2d");
        var centerX = theCanvas.width/2
	var centerY = theCanvas.height/2
        var x = 300;
        var y = 50;
        var dt = 0;
	var twopi = 2*Math.PI;
	var dtheta=twopi/180;
	var path_test;
	var smin;
	var smax;
	var mer_test;
	var ven_test;
	var ear_test;
	var mar_test;

  function drawProjectileYes() {
           path_test = document.getElementById('yes').value;

	   drawProjectile()
                    }

  function drawProjectileNo() {
           path_test = document.getElementById('no').value;

	   drawProjectile()
                     }

  function drawProjectile() {

    if (path_test == 0){
        theContext.clearRect(0,0, theCanvas.width, theCanvas.height); 
	theContext.beginPath();
	theContext.arc(x, y, 5, 0, 2*Math.PI);
        theContext.fillStyle = "blue";
        theContext.fill();
	}
	else if (path_test == 1){
        theContext.beginPath()
	theContext.arc(x, y, 5, 0, 2*Math.PI);
	theContext.fillStyle = "blue";
	theContext.fill();
	}
    }
// Added a center point or the sun of the orbit --Manisha
     function drawSun(){
	     theContext.beginPath()
             theContext.arc(centerX,centerY, 3, 0, 2*Math.PI);
             theContext.fillStyle = "yellow";
             theContext.fill();
         }
     function merFunction(){
	      mer_test = document.getElementById('mercury').value;
	      if (mer_test == 0){
		document.getElementById('mercury').value=1;
		mer_test = 1;
	      }
	      else if (mer_test == 1){
		      document.getElementById('mercury').value=0;
		      mer_test = 0;
	      }
	      moveProjectile();
              }
     function venFunction(){
              ven_test = document.getElementById('venus').value;
	        if (ven_test == 0){
	            document.getElementById('venus').value=1;
		    ven_test = 1;
		}
		else if (ven_test == 1){
             		document.getElementById('venus').value=0;
			ven_test = 0;
		}

              moveProjectile();
              }
     function earFunction(){
	     ear_test = document.getElementById('earth').value;
	     if (ear_test == 0){
        	     document.getElementById('earth').value=1;
		     ear_test = 1;
	     }
	     else if (ear_test == 1){
		     document.getElementById('earth').value=0;
		     ear_test = 0;
	     }

	     moveProjectile();
             }
     function marFunction(){
	     mar_test = document.getElementById('mars').value;
	       if (mar_test == 0){
		       document.getElementById('mars').value=1;
		       mar_test = 1;
	       }
	       else if (mar_test == 1){
		       document.getElementById('mars').value=0;
		       mar_test = 0;
	       }

	     moveProjectile();
              }




     function moveProjectile() { 
	     if (mer_test == 1 ){
		  smin = 10;
                  smax=20;
		  dtheta +=1;
	     }

	     else if (ven_test == 1){
		     smin = 50;
	             smax= 100;
		     dtheta +=1;
	     }
	     else if (ear_test == 1){
		     smin=100;
	             smax = 200;
		     dtheta+=1;
	     } 
	     else if (mar_test == 1){
		     smin = 150;
	             smax = 250;
		     dtheta+=1;
	     }
	     
		x = smin*Math.cos(twopi*dtheta/180) + centerX;
	        y = smax*Math.sin(twopi*dtheta/180) + centerY;

	     drawProjectile();
             drawSun(0,0);	 
             window.setTimeout(moveProjectile, 1000/30);
	 }



     
        moveProjectile();
        
      
	</script>
      
	 </body>
</html>

